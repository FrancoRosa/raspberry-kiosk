(this["webpackJsonpraspberry-kiosk"]=this["webpackJsonpraspberry-kiosk"]||[]).push([[0],{101:function(e,t){},102:function(e,t){},103:function(e,t){},104:function(e,t){},105:function(e,t){},123:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(0),r=c(48),i=c.n(r),a=c(13),o=(c(59),c(5)),u=c(49),j=c.n(u),f=function(e,t){var c=Object(s.useRef)(t);Object(s.useEffect)((function(){c.current=t})),Object(s.useEffect)((function(){var t=function(t){t.code===e&&c.current(t)};return document.addEventListener("keypress",t),function(){return document.removeEventListener("keypress",t)}}),[e])},d=function(e){var t=e.history;f("KeyO",(function(){t.push("/vids")}));var c=Object(o.g)().id;return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)(j.a,{width:"800px",url:"/vid/".concat(c),playing:!0,controls:!0})})},l=c(11),b=c(19);b.c.GlobalWorkerOptions.workerSrc="/js/pdf.worker.js";var O=function(e){var t=e.history,c=Object(s.useState)(null),r=Object(l.a)(c,2),i=r[0],a=r[1],u=Object(s.useState)(1),j=Object(l.a)(u,2),d=j[0],O=j[1],p=function(e){switch(e){case"next":return d<i?d+1:d;case"prev":return d>1?d-1:d;case"home":return 1;default:return d}},x=Object(o.g)().id;return f("KeyO",(function(){t.push("/pdfs")})),f("KeyA",(function(){document.querySelector("#prev").click()})),f("KeyD",(function(){document.querySelector("#next").click()})),Object(n.jsxs)("div",{className:"container-pdf",children:[Object(n.jsx)(b.a,{file:"/pdf/".concat(x),onLoadSuccess:function(e){var t=e.numPages;a(t)},className:"document-status",children:Object(n.jsx)(b.b,{pageNumber:d,height:480,scale:2})}),Object(n.jsxs)("p",{className:"page-number",children:["Page ",d," of ",i]}),Object(n.jsxs)("div",{className:"pdf-controls",children:[Object(n.jsx)("button",{id:"prev",onClick:function(){return O(p("prev"))}}),Object(n.jsx)("button",{id:"next",onClick:function(){return O(p("next"))}})]})]})},p=function(e){var t=e.history;f("KeyO",(function(){t.push("/figs")}));var c=Object(o.g)().id;return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("img",{className:"image",src:"/fig/".concat(c),alt:"figure"})})},x=function(e,t){switch(e){case"vid":return Object(n.jsx)("img",{src:"/icons/vid-icon.png",className:t,alt:"icon"});case"pdf":return Object(n.jsx)("img",{src:"/icons/pdf-icon.png",className:t,alt:"icon"});case"fig":return Object(n.jsx)("img",{src:"/icons/fig-icon.png",className:t,alt:"icon"});default:return}},h=function(e){var t=e.category,c=e.selected;return Object(n.jsx)(a.b,{to:"/".concat(t,"s"),children:x(t,c?"selected":"not-selected")})},m=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),c=t[0],r=t[1];return f("KeyA",(function(){c>0&&r(c-1)})),f("KeyD",(function(){c<2&&r(c+1)})),f("KeyP",(function(){document.querySelector(".selected").parentElement.click()})),Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)(h,{selected:0===c,category:"pdf"}),Object(n.jsx)(h,{selected:1===c,category:"fig"}),Object(n.jsx)(h,{selected:2===c,category:"vid"})]})},v=c(18),g=c.n(v),y=c(52),k=function(e){var t=e.category,c=e.selected,s=e.file;return Object(n.jsx)(a.b,{to:"/".concat(t,"/").concat(s),className:c?"selected-i":"not-selected-i",children:Object(n.jsx)("img",{src:"thumbs/".concat(s,".png"),alt:"".concat(s)})})},N=function(e){var t=e.category,c=Object(o.f)(),r=Object(s.useState)(0),i=Object(l.a)(r,2),a=i[0],u=i[1],j=Object(s.useState)([]),d=Object(l.a)(j,2),b=d[0],O=d[1],p=Object(s.useState)(!1),x=Object(l.a)(p,2),h=x[0],m=x[1],v=Object(s.useState)(0),N=Object(l.a)(v,2),S=N[0],K=N[1],w=function(e,t){switch(e){case"pdf":return t.pdf;case"vid":return t.vid;case"fig":return t.fig;default:return}};(function(){var e=Object(y.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=10;break}return e.next=3,fetch("files.json");case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,O(w(t,n)),K(b.length),m(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();return f("KeyA",(function(){a>0&&u(a-1)})),f("KeyD",(function(){a<S-1&&u(a+1)})),f("KeyP",(function(){document.querySelector(".selected-i").click()})),f("KeyO",(function(){c.push("/")})),Object(n.jsx)("div",{className:"list",children:b.map((function(e){return Object(n.jsx)(k,{category:t,selected:b.indexOf(e)===a,file:e},b.indexOf(e))}))})},S=c(53),K=c.n(S),w=function(){var e=Object(s.useState)("0"),t=Object(l.a)(e,2),c=t[0],r=t[1],i=function(){K.a.get("http://localhost:9999/api/v1/value").then((function(e){return r(e.data.value)}))};return Object(s.useEffect)((function(){setInterval(i,5e3)}),[]),Object(n.jsxs)("div",{className:"battery__status",children:[Object(n.jsx)("img",{src:"/icons/battery.png",alt:"",srcset:""}),Object(n.jsxs)("p",{children:[c,"%"]})]})},E=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(w,{}),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/vid/:id",component:d}),Object(n.jsx)(o.a,{path:"/pdf/:id",component:O}),Object(n.jsx)(o.a,{path:"/fig/:id",component:p}),Object(n.jsx)(o.a,{path:"/vids",component:function(){return Object(n.jsx)(N,{category:"vid"})}}),Object(n.jsx)(o.a,{path:"/pdfs",component:function(){return Object(n.jsx)(N,{category:"pdf"})}}),Object(n.jsx)(o.a,{path:"/figs",component:function(){return Object(n.jsx)(N,{category:"fig"})}}),Object(n.jsx)(o.a,{path:"/",component:m})]})]})};i.a.render(Object(n.jsx)(a.a,{children:Object(n.jsx)(E,{})}),document.getElementById("root"))},59:function(e,t,c){}},[[123,1,2]]]);
//# sourceMappingURL=main.36d9647a.chunk.js.map